<nav class="navbar navbar-inverse navbar-fixed-top">
  <div id="navbar" class="collapse navbar-collapse">
    <ul class="nav navbar-nav">
      <li class="active"><a href="#">Home</a></li>
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Recipe <span class="caret"></span></a>
        <ul class="dropdown-menu">
          {% for m in menu %}
          <li class="dropdown dropdown-submenu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{ m.name }}</a>
            <ul class="dropdown-menu">
              {% if m.recipe_set.all %}
              {% for r in m.recipe_set.all %}
              <li><a href="\recipe\{{ r.name }}">{{ r.name }}</a></li>
              {% endfor %}
              {% else %}
              <li><a href="#">Nothing</a></li>
              {% endif %}
            </ul>
          </li>
          {% endfor %}
        </ul>
      </li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </div>
</nav>